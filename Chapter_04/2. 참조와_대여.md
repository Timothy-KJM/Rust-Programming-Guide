참조와 대여
===

### 참조와 대여

* 참조자를 이용하면 값의 소유권을 넘기지 않을 수 있음
    + 아래의 예제를 보면 튜플을 사용하던 코드가 모두 사라진 것을 확인할 수 있음

```RUST
fn main()
{
    let s1 = String::From("hello");

    let len = calculate_length(&s1);

    println!("The length of '{}' is {}.", s1, len);
}

fn calculate_length(str: &String) -> usize
{
    s.len()
}
```

* 참조자를 생성하기 위해서는 & 연산자를 사용함
    + 참조자는 값을 소유하지 않으므로 참조자가 사용되지 않을 때까지 버려지지 않음
* 함수 시그니처에도 & 연산자를 사용하여 참조자를 사용함을 명시해야 함

```RUST
fn calculate_length(s: &String) -> usize    // s는 String의 참조자이다.
{
    s.len()
}   // 여기서 s가 스코프 밖으로 벗어나지만, 참조하는 것을 소유하지 않으므로
    // 소유권이 버려지지는 않는다.
```

* 대여: 참조자를 선언하는 행위
    + 대여한 값을 변경하는 것은 기본적으로 불가능함.

```RUST
fn main()
{
    let s = String::from("hello");

    change(&s);
}

fn change(s: String)
{
    s.push_str(", world");  // 오류, 대여한 값을 변경하는 것은 불가능하다.
}
```

          
        
### 가변 참조자

* 가변 참조자: mut 키워드와 & 연산자를 사용하여 선언
    + 가변 참조자를 사용한다면 위의 예제의 오류를 제거할 수 있음

```RUST
fn main()
{
    let s = String::from("hello");

    change(&mut s);
}

fn change(s: &mut String)
{
    s.push_str(", world");
}